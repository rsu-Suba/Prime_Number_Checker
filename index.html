<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width" />
<title>Prime Num Checker</title>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DMNKQHMXSP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DMNKQHMXSP');
</script>
<body bgcolor="#1a1c1c">
    <div class="canvas">
        <div class="main">
            <div class="top">
                <div class="buttons">
                    <button onclick="searchmode()" class="clickbutton" id="searchbtn">Searchüîç</button>
                    <button onclick="endlessmode()" class="notclickbutton" id="endlessbtn">Endlessüëã</button>
                </div>
                <div class="toptools">
                    <div class="searchtools" id="searches">
                        <form action="#" method="get" id="form">
                            <input type="number" class="inputnum" step="1" min="2" name="usersnum" required><br>
                            <input type="submit" class="inputbtn" onclick="postnum()" value="üîç"><br>
                        </form>
                    </div>
                    <div class="endlesstools-search" id="endlesses">
                        <div class="endbuttons">
                            <button onclick="endlessstart()" class="notclickbutton" id="endstartbtn">Start</button>
                            <button onclick="endlesslimit()" class="notlimitclickbutton" id="endlimitbtn">‚àû</button>
                            <button onclick="endlessstop()" class="notclickbutton" id="endstopbtn">Stop</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom">
                <div class="calcmain">
                    <div class="calcspace" id="calcspace">
                        <div class="Searchcalc" style="margin: 0.5vh 3vw 0vh -0.6vw;">
                            <textarea class="searchcalctext" id="searchcalctext" readonly></textarea>
                        </div>
                        <div class="divisorcalc" style="margin: 0.5vh -0.6vw 0vh 3vw;">
                            <textarea class="divisortext" id="divisortext" readonly></textarea>
                        </div>
                    </div>
                    <div class="endlessspace-search" id="endlessspace">
                        <textarea class="endlesstext" id="endlesstext" readonly></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap');
body{
    transition: 0.8s;
    overflow: hidden;
}

::-webkit-scrollbar-track{
    opacity: 0;
}

    body text{
    font-family: 'Inter', sans-serif;
}
body button{
    font-family: 'Inter', sans-serif;
    font-size: 1.9vh;
}
body input{
    font-family: 'Inter', sans-serif;
}
textarea{
    font-family: 'Inter', sans-serif;
    font-size: 1.5vh;
}

    .canvas{
    background-color: #1a1c1c;
    width: 98%;
    height: 99%;
    position: absolute;
    bottom:3%;
}

.main{
    background-color: #efe8f8;
    width: 80vw;
    height: 80vh;
    position: relative;
    margin: 0 auto;
    margin-top: 40vh;
    bottom: 30vh;
    border-radius: 5vh;
}

.top{
    width: 100%;
    height: 20%;
    position: relative;
    margin: 0 auto;
    text-align: center;
}

.bottom{
    height: 80%;
    width: 100%;
    position: relative;
    text-align: center;
    justify-content: center;
    align-items: center;
}

.buttons{
    height: 60%;
    position: relative;
    align-items: center;
    justify-content: center;
}

.endlesstools-search{
    opacity: 0;
    z-index: 1;
}

.endlesstools{
    opacity: 1;
}

.searchtools-endless{
    opacity: 0;
    position: absolute;
}

.searchtools{
    opacity: 1;
    z-index: 2;
}

.endbuttons button{
    position:relative;
    height: 5vh;
    width: 30%;
    top:-1.5vh;
    margin:2.2vh 1.2vh;
}

button{
    border: none;
    background-color: #e4dcef;
    border-radius: 100vh;
    position: relative;
    height: 70%;
    width: 40%;
    margin:1.45vh 2.2%;
}

.clickbutton{
    box-shadow:inset #555 0.5vh 0.5vh 0.8vh ,inset #fff -0.6vh -0.6vh 0.5vh;
}

.notclickbutton{
    box-shadow: #555 0.5vh 0.5vh 0.8vh , #fff -0.6vh -0.6vh 0.5vh;
}

.toptools{
    height: 40%;
    position: relative;
    text-align: center;
}

.searchtools{
    height: 100%;
    position: absolute;
    text-align: center;
    margin: 0 auto;
    left: 0;
    right: 0;
}

.searchtools form{
    display: flex;
    position: relative;
    justify-content: center;
    bottom: 0;
    height: 60%;
    top: 20%;
}

.searchtools input{
    margin: 0 5px;
    border-radius: 100vh;
    border: none;
    background-color: #e4dcef;
    box-shadow: #555 0.5vh 0.5vh 0.8vh , #fff -0.6vh -0.6vh 0.5vh;
}

.inputnum{
    width: 60%;
    padding: 1.5vh;
}

.searchtools input:active{
    box-shadow:inset #555 0.5vh 0.5vh 0.8vh ,inset #fff -0.6vh -0.6vh 0.5vh;
}

.calcmain{
    background-color: e4dcef;
    position: relative;
    height: 58.5vh;
    width: 68.5vw;
    margin: 0 auto;
    top: 2.5%;
    border-radius: 3.5vh;
    box-shadow:inset #444 0.6vh 0.6vh 1.4vh ,inset #fff -2vh -2vh 3vh;
    display: flex;
}

.calcspace{
    height: 92%;
    width: 80%;
    position: relative;
    margin: 0 auto;
    top:4%;
    text-align: left;
    display: flex;
}

.calcspace-endless{
    top: 400%;
    height: 92%;
    width: 80%;
    position: relative;
    margin: 0 auto;
    text-align: left;
    display: flex;
}


.calcspace div{
    height: 51vh;
    width: 48.5vh;
    background-color: e4dcef;
    border-radius: 2vh;
    box-shadow:#777 0.3vh 0.3vh 0.5vh ,#ddd -0.5vh -0.5vh 0.5vh;
    padding: 0.8vh;
}

.endlessspace{
    position: absolute;
    height: 86.8%;
    width: 77.5%;
    margin: auto;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: e4dcef;
    border-radius: 2vh;
    box-shadow:#777 0.3vh 0.3vh 0.5vh ,#ddd -0.5vh -0.5vh 0.5vh;
    padding: 0.8vh;
}

.endlessspace-search{
    top: 1000vh;
    position: absolute;
    height: 86.8%;
    width: 77.5%;
    margin: auto;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: e4dcef;
    border-radius: 2vh;
    box-shadow:#777 0.3vh 0.3vh 0.5vh ,#ddd -0.5vh -0.5vh 0.5vh;
    padding: 0.8vh;
}

textarea {
  resize: none;
  border: none;
  background-color: rgba(0,0,0,0);
  width:96%;
  height:99.5%;
}  

.notlimitclickbutton{
    box-shadow: #555 0.5vh 0.5vh 0.8vh , #fff -0.6vh -0.6vh 0.5vh;
    border: none;
    background-color: #e4dcef;
    border-radius: 100vh;
    position: relative;
    margin:0;
    height: 5vh !important;
    width: 5vh !important;
}

.limitclickbutton{
    box-shadow:inset #555 0.5vh 0.5vh 0.8vh ,inset #fff -0.6vh -0.6vh 0.5vh;
    border: none;
    background-color: #e4dcef;
    border-radius: 100vh;
    position: relative;
    margin:0;
    height: 5vh !important;
    width: 5vh !important;
}
</style>
<script>
    
var searchnum;
var searchcurrentnum;
var searchrem;
var nowsearchtext;
var nowdivisortext;
var spnum;
var isprivate;
var nowendlesstext;
var overhalf;
document.getElementById('form').onsubmit = function (event) {
        event.preventDefault();
        let inputForm = document.getElementById('form').usersnum.value;
        searchnum = `${inputForm}`;
        search();
    }

    async function search(){
        overhalf = false;
        isprivate = false;
        document.getElementById("searchcalctext").innerHTML = ("[" + searchnum + "]\n");
        document.getElementById("divisortext").innerHTML = ("[" + searchnum + "]\n\n");
        await sleep(300);
        for(var i = 2;i <= searchnum;i++){
        nowsearchtext = document.getElementById("searchcalctext");
        nowdivisortext = document.getElementById("divisortext");
        if (isprivate == false){
            if (i %2 !== 0 || i == 2){
                if (searchnum / 2 < i){
                    overhalf = true;
                }
                else{
                    overhalf = false;
                }
                if (overhalf == false){
                searchrem = searchnum % i;
                if (searchrem == 0){
                    if (i == searchnum){
                        nowdivisortext.textContent = (nowdivisortext.innerHTML + searchnum + " is Prime number.");
                        break;
                    }
                    else if (i > searchnum || i < searchnum){
                        nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = O\n\n");
                        nowdivisortext.textContent = (nowdivisortext.innerHTML + i + "\n");
                        await sleep(250);
                        isprivate = true;
                        searchprivate(searchnum / i);
                    break;
                    }
                }
                else if (searchrem > 0){
                    nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = X\n");
                    await sleep(1);
                }
                }
                else if (overhalf == true){
                    if (searchnum > 2){
                        nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = X\n");
                    }
                    else if (searchnum <= 2){
                    }
                    nowdivisortext.textContent = (nowdivisortext.innerHTML + searchnum + " is Prime number.");
                    break;
                }
            }
            else if (i % 2 == 0){
            }
        }
        else if (isprivate == true){
            break;
        }
        nowsearchtext.scrollTop = nowsearchtext.scrollHeight;
        nowdivisortext.scrollTop = nowdivisortext.scrollHeight;
    }
}

    async function searchprivate(spnum){
        document.getElementById('searchcalctext').textContent = (nowsearchtext.innerHTML + "\n[" + spnum + "]\n");
        for(var i = 2;i <= spnum;i++){
        nowsearchtext = document.getElementById("searchcalctext");
        nowdivisortext = document.getElementById("divisortext");
            if (i % 2 !== 0 || i == 2){
                
                if (searchnum / 2 < i){
                    overhalf = true;
                }
                else{
                    overhalf = false;
                }
                if (overhalf == false){
                    searchrem = spnum % i;
                    if (searchrem == 0){
                        if (i == spnum){
                            nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = O\n");
                            nowdivisortext.textContent = (nowdivisortext.innerHTML + i + "\n\nFinish");
                            await sleep(250);
                            isprivate = false;
                            break;
                        }
                        else if (i > spnum || i < spnum){
                            nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = O\n\n");
                            nowdivisortext.textContent = (nowdivisortext.innerHTML + i + "\n");
                            await sleep(250);
                            searchprivate(spnum / i);
                            break;
                        }
                    }
                    else if (searchrem > 0){
                        nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = X\n");
                        await sleep(1);
                    }
                }
                else if (overhalf == true){
                    if (searchnum > 2){
                        nowsearchtext.textContent = (nowsearchtext.innerHTML + i + " = X\n");
                    }
                    else if (searchnum <= 2){
                    }
                    nowdivisortext.textContent = (nowdivisortext.innerHTML + searchnum + " is Prime number.");
                    break;
                }
            }
            else if (i % 2 == 0){
            }
        nowsearchtext.scrollTop = nowsearchtext.scrollHeight;
        nowdivisortext.scrollTop = nowdivisortext.scrollHeight;
        }
    }


    var endsearchrem;
    var nowendlesstext;
    var x;
    var islimit = true;
    var isbeha = false;
    var isdupl = false;

    function endlessstart(){
        isbeha = true;
        if (isdupl == false){
        document.getElementById("endstartbtn").className = "clickbutton";
        document.getElementById("endstopbtn").className = "notclickbutton";
        document.getElementById("endlesstext").innerHTML = ("");
            if (islimit == true){
                endlessnowlimit();
            }
            else if (islimit == false){
                endlesswithoutlimit();
            }
        }
        else if (isdupl == true){
            return;
        }
    }

    async function endlessnowlimit(){
        isdupl = true;
        for(x = 2;x <= 100;x++){
            nowendlesstext = document.getElementById("endlesstext");
            if (isbeha == true){
                for(var y = 2;y <= x;y++){
                    endsearchrem = x % y;
                    if (endsearchrem == 0){
                        if (y == x){
                            nowendlesstext.textContent = (nowendlesstext.innerHTML + x + "\n");
                            await sleep(50);
                        }
                        else if (y > x || y < x){
                            break;
                        }
                    }
                    else if (endsearchrem > 0){
                    }
                }
            }
            else if (isbeha == false){
                break;
            }
            nowendlesstext.scrollTop = nowendlesstext.scrollHeight;
        }
    }

    async function endlesswithoutlimit(){
        isdupl = true;
        for(x = 2;;x++){
            nowendlesstext = document.getElementById("endlesstext");
            if (isbeha == true){
                for(var y = 2;y <= x;y++){
                    endsearchrem = x % y;
                    if (endsearchrem == 0){
                        if (y == x){
                            nowendlesstext.textContent = (nowendlesstext.innerHTML + x + "\n");
                            await sleep(50);
                       }
                        else if (y > x || y < x){
                           break;
                       }
                    }
                    else if (endsearchrem > 0){
                    }
                }
            }
            else if (isbeha == false){
               break;
            }
            nowendlesstext.scrollTop = nowendlesstext.scrollHeight;
        }
    }

    function endlessstop(){
        document.getElementById("endstartbtn").className = "notclickbutton";
        document.getElementById("endstopbtn").className = "clickbutton";
        isbeha = false;
        isdupl = false;
    }

    function endlesslimit(){
        if (islimit == true){
            document.getElementById("endlimitbtn").className = "limitclickbutton";
            islimit = false;
        }
        else if (islimit == false){
            document.getElementById("endlimitbtn").className = "notlimitclickbutton";
            islimit = true;
        }
    }

    function sleep(time) {
  return new Promise( (resolve) => {
    setTimeout(resolve, time)
  })
}

function searchmode(){
    document.getElementById("searchbtn").className = "clickbutton";
    document.getElementById("endlessbtn").className = "notclickbutton";
    document.getElementById("endlesses").className = "endlesstools-search";
    document.getElementById("searches").className = "searchtools";
    document.getElementById("calcspace").className = "calcspace";
    document.getElementById("endlessspace").className = "endlessspace-search";
    document.getElementById("endstartbtn").className = "notclickbutton";
    document.getElementById("endstopbtn").className = "notclickbutton";
}
function endlessmode(){
    document.getElementById("searchbtn").className = "notclickbutton";
    document.getElementById("endlessbtn").className = "clickbutton";
    document.getElementById("endlesses").className = "endlesstools";
    document.getElementById("searches").className = "searchtools-endless";
    document.getElementById("calcspace").className = "calcspace-endless";
    document.getElementById("endlessspace").className = "endlessspace";
    document.getElementById("endstartbtn").className = "notclickbutton";
    document.getElementById("endstopbtn").className = "notclickbutton";
}
</script>
</html>